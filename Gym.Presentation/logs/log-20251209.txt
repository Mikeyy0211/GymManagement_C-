2025-12-09 15:01:16.979 +07:00 [INF] User profile is available. Using '/Users/tuanminh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 15:01:17.254 +07:00 [WRN] Entity 'Member' has a global query filter defined and is the required end of a relationship with the entity 'Subscription'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-09 15:01:17.925 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-12-09 15:01:17.976 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-12-09 15:01:17.979 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-12-09 15:01:17.996 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:01:18.018 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:01:18.167 +07:00 [INF] Executed DbCommand (141ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TrainerProfiles] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:01:18.192 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MembershipPlans] AS [m]
        WHERE [m].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:01:18.205 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[DeletedAt], [m].[DurationDays], [m].[IsDeleted], [m].[MaxSessionsPerWeek], [m].[Name], [m].[Price], [m].[RowVersion], [m].[UpdatedAt]
FROM [MembershipPlans] AS [m]
WHERE [m].[IsDeleted] = CAST(0 AS bit)
2025-12-09 15:01:18.232 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:01:18.236 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:01:18.252 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Members] AS [m]
        WHERE [m].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:01:18.312 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:01:18.460 +07:00 [INF] Now listening on: http://localhost:5171
2025-12-09 15:01:18.462 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 15:01:18.462 +07:00 [INF] Hosting environment: Development
2025-12-09 15:01:18.462 +07:00 [INF] Content root path: /Users/tuanminh/Desktop/hblab_/Controller-base/Gym.Presentation
2025-12-09 15:01:23.725 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/ - null null
2025-12-09 15:01:24.158 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/ - 404 0 null 445.5758ms
2025-12-09 15:01:24.176 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5171/, Response status code: 404
2025-12-09 15:04:03.505 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/ - null null
2025-12-09 15:04:04.130 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/ - 404 0 null 610.9411ms
2025-12-09 15:04:04.171 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5171/, Response status code: 404
2025-12-09 15:04:48.322 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/swagger/index.html - null null
2025-12-09 15:04:48.564 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/swagger/index.html - 200 null text/html;charset=utf-8 244.212ms
2025-12-09 15:04:48.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/swagger/swagger-ui.css - null null
2025-12-09 15:04:48.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/swagger/swagger-ui-bundle.js - null null
2025-12-09 15:04:48.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/swagger/swagger-ui-standalone-preset.js - null null
2025-12-09 15:04:48.788 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-09 15:04:48.790 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-09 15:04:48.808 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/swagger/swagger-ui.css - 200 152034 text/css 144.1333ms
2025-12-09 15:04:48.812 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 145.5275ms
2025-12-09 15:04:48.868 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-09 15:04:49.091 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 428.6487ms
2025-12-09 15:04:49.096 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/swagger/v1/swagger.json - null null
2025-12-09 15:04:50.873 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1776.7134ms
2025-12-09 15:05:22.016 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs - null null
2025-12-09 15:05:22.052 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs - 404 0 null 35.9942ms
2025-12-09 15:05:22.053 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5171/admin/jobs, Response status code: 404
2025-12-09 15:19:16.271 +07:00 [INF] Application is shutting down...
2025-12-09 15:19:31.868 +07:00 [INF] User profile is available. Using '/Users/tuanminh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-09 15:19:32.193 +07:00 [WRN] Entity 'Member' has a global query filter defined and is the required end of a relationship with the entity 'Subscription'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-09 15:19:32.727 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-12-09 15:19:32.763 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-12-09 15:19:32.764 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-12-09 15:19:32.775 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:19:32.796 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:19:32.811 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TrainerProfiles] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:19:32.819 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MembershipPlans] AS [m]
        WHERE [m].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:19:32.830 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[DeletedAt], [m].[DurationDays], [m].[IsDeleted], [m].[MaxSessionsPerWeek], [m].[Name], [m].[Price], [m].[RowVersion], [m].[UpdatedAt]
FROM [MembershipPlans] AS [m]
WHERE [m].[IsDeleted] = CAST(0 AS bit)
2025-12-09 15:19:32.849 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:19:32.852 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-12-09 15:19:32.860 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Members] AS [m]
        WHERE [m].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:19:32.887 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:19:32.965 +07:00 [INF] Now listening on: http://localhost:5171
2025-12-09 15:19:32.966 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-09 15:19:32.967 +07:00 [INF] Hosting environment: Development
2025-12-09 15:19:32.967 +07:00 [INF] Content root path: /Users/tuanminh/Desktop/hblab_/Controller-base/Gym.Presentation
2025-12-09 15:19:38.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/ - null null
2025-12-09 15:19:38.986 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/ - 404 0 null 93.0501ms
2025-12-09 15:19:38.994 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5171/, Response status code: 404
2025-12-09 15:20:08.089 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs - null null
2025-12-09 15:20:08.148 +07:00 [INF] Executing endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:08.238 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Index", action = "", controller = ""}. Executing page /Admin/Jobs/Index
2025-12-09 15:20:08.249 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.IndexModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:08.630 +07:00 [INF] Executed DbCommand (276ms) [Parameters=[@__jobName_0='?' (Size = 200), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [JobLocks] AS [j]
        WHERE [j].[JobName] = @__jobName_0 AND [j].[LockedUntil] > @__now_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:20:08.668 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[LockedUntil]
FROM [JobLocks] AS [j]
WHERE [j].[JobName] = @__jobName_0
2025-12-09 15:20:08.728 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:08.772 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:08.774 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:08.776 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:08.798 +07:00 [INF] Executed page /Admin/Jobs/Index in 558.2496ms
2025-12-09 15:20:08.798 +07:00 [INF] Executed endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:08.811 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs - 200 null text/html; charset=utf-8 723.563ms
2025-12-09 15:20:09.401 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/favicon.ico - null null
2025-12-09 15:20:09.413 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/favicon.ico - 404 0 null 11.9056ms
2025-12-09 15:20:09.416 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5171/favicon.ico, Response status code: 404
2025-12-09 15:20:12.230 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/history - null null
2025-12-09 15:20:12.239 +07:00 [INF] Executing endpoint '/Admin/Jobs/History'
2025-12-09 15:20:12.254 +07:00 [INF] Route matched with {page = "/Admin/Jobs/History", action = "", controller = ""}. Executing page /Admin/Jobs/History
2025-12-09 15:20:12.262 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.HistoryModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:12.350 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_1='?' (DbType = Int32), @__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:12.351 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:12.351 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:12.351 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:12.355 +07:00 [INF] Executed page /Admin/Jobs/History in 100.7009ms
2025-12-09 15:20:12.355 +07:00 [INF] Executed endpoint '/Admin/Jobs/History'
2025-12-09 15:20:12.357 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/history - 200 null text/html; charset=utf-8 127.2952ms
2025-12-09 15:20:15.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs - null null
2025-12-09 15:20:15.663 +07:00 [INF] Executing endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:15.663 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Index", action = "", controller = ""}. Executing page /Admin/Jobs/Index
2025-12-09 15:20:15.667 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.IndexModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:15.684 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__jobName_0='?' (Size = 200), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [JobLocks] AS [j]
        WHERE [j].[JobName] = @__jobName_0 AND [j].[LockedUntil] > @__now_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:20:15.687 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[LockedUntil]
FROM [JobLocks] AS [j]
WHERE [j].[JobName] = @__jobName_0
2025-12-09 15:20:15.693 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:15.694 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:15.694 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:15.694 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:15.703 +07:00 [INF] Executed page /Admin/Jobs/Index in 39.1142ms
2025-12-09 15:20:15.703 +07:00 [INF] Executed endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:15.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs - 200 null text/html; charset=utf-8 73.9312ms
2025-12-09 15:20:16.812 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/run - null null
2025-12-09 15:20:16.813 +07:00 [INF] Executing endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:16.858 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Run", action = "", controller = ""}. Executing page /Admin/Jobs/Run
2025-12-09 15:20:16.881 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:16.881 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:16.915 +07:00 [INF] Executed page /Admin/Jobs/Run in 56.5397ms
2025-12-09 15:20:16.915 +07:00 [INF] Executed endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:16.916 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/run - 200 null text/html; charset=utf-8 103.8413ms
2025-12-09 15:20:18.406 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5171/admin/jobs/run - application/x-www-form-urlencoded 182
2025-12-09 15:20:18.408 +07:00 [INF] Executing endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:18.409 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Run", action = "", controller = ""}. Executing page /Admin/Jobs/Run
2025-12-09 15:20:18.426 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.RunModel.OnPost - ModelState is "Valid"
2025-12-09 15:20:18.660 +07:00 [INF] Executed DbCommand (144ms) [Parameters=[@__target_0='?' (DbType = DateTime2), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ExpireAt], [s].[MemberId], [s].[StartAt], [s].[Status], [m0].[Id], [m0].[CreatedAt], [m0].[DateOfBirth], [m0].[DeletedAt], [m0].[FullName], [m0].[IsDeleted], [m0].[MembershipPlanId], [m0].[RowVersion], [m0].[UpdatedAt], [m0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscriptions] AS [s]
INNER JOIN (
    SELECT [m].[Id], [m].[CreatedAt], [m].[DateOfBirth], [m].[DeletedAt], [m].[FullName], [m].[IsDeleted], [m].[MembershipPlanId], [m].[RowVersion], [m].[UpdatedAt], [m].[UserId]
    FROM [Members] AS [m]
    WHERE [m].[IsDeleted] = CAST(0 AS bit)
) AS [m0] ON [s].[MemberId] = [m0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m0].[UserId] = [a].[Id]
WHERE [s].[ExpireAt] <= @__target_0 AND [s].[ExpireAt] > @__now_1 AND [s].[Status] = N'Active'
2025-12-09 15:20:18.679 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ExpireAt], [s].[MemberId], [s].[StartAt], [s].[Status], [m0].[Id], [m0].[CreatedAt], [m0].[DateOfBirth], [m0].[DeletedAt], [m0].[FullName], [m0].[IsDeleted], [m0].[MembershipPlanId], [m0].[RowVersion], [m0].[UpdatedAt], [m0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscriptions] AS [s]
INNER JOIN (
    SELECT [m].[Id], [m].[CreatedAt], [m].[DateOfBirth], [m].[DeletedAt], [m].[FullName], [m].[IsDeleted], [m].[MembershipPlanId], [m].[RowVersion], [m].[UpdatedAt], [m].[UserId]
    FROM [Members] AS [m]
    WHERE [m].[IsDeleted] = CAST(0 AS bit)
) AS [m0] ON [s].[MemberId] = [m0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m0].[UserId] = [a].[Id]
WHERE [s].[ExpireAt] < @__now_0 AND [s].[Status] <> N'Expired'
2025-12-09 15:20:18.774 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 2000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [JobHistories] ([Id], [ExecutedAt], [JobName], [Message], [Success])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-12-09 15:20:18.779 +07:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectResult.
2025-12-09 15:20:18.780 +07:00 [INF] Executing RedirectResult, redirecting to /admin/jobs.
2025-12-09 15:20:18.786 +07:00 [INF] Executed page /Admin/Jobs/Run in 376.9782ms
2025-12-09 15:20:18.786 +07:00 [INF] Executed endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:18.786 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5171/admin/jobs/run - 302 0 null 380.2562ms
2025-12-09 15:20:18.792 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs - null null
2025-12-09 15:20:18.793 +07:00 [INF] Executing endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:18.793 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Index", action = "", controller = ""}. Executing page /Admin/Jobs/Index
2025-12-09 15:20:18.794 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.IndexModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:18.797 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jobName_0='?' (Size = 200), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [JobLocks] AS [j]
        WHERE [j].[JobName] = @__jobName_0 AND [j].[LockedUntil] > @__now_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:20:18.800 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[LockedUntil]
FROM [JobLocks] AS [j]
WHERE [j].[JobName] = @__jobName_0
2025-12-09 15:20:18.953 +07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:18.954 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:18.954 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:18.954 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:18.955 +07:00 [INF] Executed page /Admin/Jobs/Index in 162.133ms
2025-12-09 15:20:18.955 +07:00 [INF] Executed endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:18.955 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs - 200 null text/html; charset=utf-8 162.8038ms
2025-12-09 15:20:24.846 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/run - null null
2025-12-09 15:20:24.852 +07:00 [INF] Executing endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:24.853 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Run", action = "", controller = ""}. Executing page /Admin/Jobs/Run
2025-12-09 15:20:24.860 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:24.861 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:24.864 +07:00 [INF] Executed page /Admin/Jobs/Run in 10.9445ms
2025-12-09 15:20:24.865 +07:00 [INF] Executed endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:24.868 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/run - 200 null text/html; charset=utf-8 22.5195ms
2025-12-09 15:20:30.880 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/history - null null
2025-12-09 15:20:30.890 +07:00 [INF] Executing endpoint '/Admin/Jobs/History'
2025-12-09 15:20:30.894 +07:00 [INF] Route matched with {page = "/Admin/Jobs/History", action = "", controller = ""}. Executing page /Admin/Jobs/History
2025-12-09 15:20:30.904 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.HistoryModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:30.979 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_1='?' (DbType = Int32), @__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:30.981 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:30.981 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:30.981 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:30.982 +07:00 [INF] Executed page /Admin/Jobs/History in 87.9048ms
2025-12-09 15:20:30.982 +07:00 [INF] Executed endpoint '/Admin/Jobs/History'
2025-12-09 15:20:30.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/history - 200 null text/html; charset=utf-8 103.4899ms
2025-12-09 15:20:40.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/run - null null
2025-12-09 15:20:40.676 +07:00 [INF] Executing endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:40.683 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Run", action = "", controller = ""}. Executing page /Admin/Jobs/Run
2025-12-09 15:20:40.690 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:40.690 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:40.697 +07:00 [INF] Executed page /Admin/Jobs/Run in 14.102ms
2025-12-09 15:20:40.698 +07:00 [INF] Executed endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:40.699 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/run - 200 null text/html; charset=utf-8 37.0973ms
2025-12-09 15:20:42.012 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5171/admin/jobs/run - application/x-www-form-urlencoded 182
2025-12-09 15:20:42.016 +07:00 [INF] Executing endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:42.026 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Run", action = "", controller = ""}. Executing page /Admin/Jobs/Run
2025-12-09 15:20:42.033 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.RunModel.OnPost - ModelState is "Valid"
2025-12-09 15:20:42.069 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__target_0='?' (DbType = DateTime2), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ExpireAt], [s].[MemberId], [s].[StartAt], [s].[Status], [m0].[Id], [m0].[CreatedAt], [m0].[DateOfBirth], [m0].[DeletedAt], [m0].[FullName], [m0].[IsDeleted], [m0].[MembershipPlanId], [m0].[RowVersion], [m0].[UpdatedAt], [m0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscriptions] AS [s]
INNER JOIN (
    SELECT [m].[Id], [m].[CreatedAt], [m].[DateOfBirth], [m].[DeletedAt], [m].[FullName], [m].[IsDeleted], [m].[MembershipPlanId], [m].[RowVersion], [m].[UpdatedAt], [m].[UserId]
    FROM [Members] AS [m]
    WHERE [m].[IsDeleted] = CAST(0 AS bit)
) AS [m0] ON [s].[MemberId] = [m0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m0].[UserId] = [a].[Id]
WHERE [s].[ExpireAt] <= @__target_0 AND [s].[ExpireAt] > @__now_1 AND [s].[Status] = N'Active'
2025-12-09 15:20:42.072 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ExpireAt], [s].[MemberId], [s].[StartAt], [s].[Status], [m0].[Id], [m0].[CreatedAt], [m0].[DateOfBirth], [m0].[DeletedAt], [m0].[FullName], [m0].[IsDeleted], [m0].[MembershipPlanId], [m0].[RowVersion], [m0].[UpdatedAt], [m0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscriptions] AS [s]
INNER JOIN (
    SELECT [m].[Id], [m].[CreatedAt], [m].[DateOfBirth], [m].[DeletedAt], [m].[FullName], [m].[IsDeleted], [m].[MembershipPlanId], [m].[RowVersion], [m].[UpdatedAt], [m].[UserId]
    FROM [Members] AS [m]
    WHERE [m].[IsDeleted] = CAST(0 AS bit)
) AS [m0] ON [s].[MemberId] = [m0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m0].[UserId] = [a].[Id]
WHERE [s].[ExpireAt] < @__now_0 AND [s].[Status] <> N'Expired'
2025-12-09 15:20:42.088 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 2000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [JobHistories] ([Id], [ExecutedAt], [JobName], [Message], [Success])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-12-09 15:20:42.091 +07:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectResult.
2025-12-09 15:20:42.091 +07:00 [INF] Executing RedirectResult, redirecting to /admin/jobs.
2025-12-09 15:20:42.091 +07:00 [INF] Executed page /Admin/Jobs/Run in 64.658ms
2025-12-09 15:20:42.091 +07:00 [INF] Executed endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:42.092 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5171/admin/jobs/run - 302 0 null 80.1434ms
2025-12-09 15:20:42.103 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs - null null
2025-12-09 15:20:42.104 +07:00 [INF] Executing endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:42.105 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Index", action = "", controller = ""}. Executing page /Admin/Jobs/Index
2025-12-09 15:20:42.105 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.IndexModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:42.115 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__jobName_0='?' (Size = 200), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [JobLocks] AS [j]
        WHERE [j].[JobName] = @__jobName_0 AND [j].[LockedUntil] > @__now_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:20:42.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[LockedUntil]
FROM [JobLocks] AS [j]
WHERE [j].[JobName] = @__jobName_0
2025-12-09 15:20:42.126 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:42.126 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:42.126 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:42.126 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:42.126 +07:00 [INF] Executed page /Admin/Jobs/Index in 21.6326ms
2025-12-09 15:20:42.126 +07:00 [INF] Executed endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:42.127 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs - 200 null text/html; charset=utf-8 23.1888ms
2025-12-09 15:20:45.822 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/history - null null
2025-12-09 15:20:45.830 +07:00 [INF] Executing endpoint '/Admin/Jobs/History'
2025-12-09 15:20:45.832 +07:00 [INF] Route matched with {page = "/Admin/Jobs/History", action = "", controller = ""}. Executing page /Admin/Jobs/History
2025-12-09 15:20:45.843 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.HistoryModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:45.885 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:45.888 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:45.888 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:45.891 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:45.895 +07:00 [INF] Executed page /Admin/Jobs/History in 54.0289ms
2025-12-09 15:20:45.895 +07:00 [INF] Executed endpoint '/Admin/Jobs/History'
2025-12-09 15:20:45.895 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/history - 200 null text/html; charset=utf-8 73.7694ms
2025-12-09 15:20:47.426 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs - null null
2025-12-09 15:20:47.429 +07:00 [INF] Executing endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:47.430 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Index", action = "", controller = ""}. Executing page /Admin/Jobs/Index
2025-12-09 15:20:47.432 +07:00 [INF] Executing handler method Gym.Presentation.Pages.Admin.Jobs.IndexModel.OnGet - ModelState is "Valid"
2025-12-09 15:20:47.453 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__jobName_0='?' (Size = 200), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [JobLocks] AS [j]
        WHERE [j].[JobName] = @__jobName_0 AND [j].[LockedUntil] > @__now_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-09 15:20:47.458 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[LockedUntil]
FROM [JobLocks] AS [j]
WHERE [j].[JobName] = @__jobName_0
2025-12-09 15:20:47.467 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__jobName_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[Id], [j].[ExecutedAt], [j].[JobName], [j].[Message], [j].[Success]
FROM [JobHistories] AS [j]
WHERE [j].[JobName] = @__jobName_0
ORDER BY [j].[ExecutedAt] DESC
2025-12-09 15:20:47.469 +07:00 [INF] Executed handler method OnGet, returned result .
2025-12-09 15:20:47.469 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:47.469 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:47.470 +07:00 [INF] Executed page /Admin/Jobs/Index in 39.4795ms
2025-12-09 15:20:47.470 +07:00 [INF] Executed endpoint '/Admin/Jobs/Index'
2025-12-09 15:20:47.470 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs - 200 null text/html; charset=utf-8 44.2516ms
2025-12-09 15:20:48.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5171/admin/jobs/run - null null
2025-12-09 15:20:48.521 +07:00 [INF] Executing endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:48.522 +07:00 [INF] Route matched with {page = "/Admin/Jobs/Run", action = "", controller = ""}. Executing page /Admin/Jobs/Run
2025-12-09 15:20:48.522 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-12-09 15:20:48.523 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-12-09 15:20:48.527 +07:00 [INF] Executed page /Admin/Jobs/Run in 4.9906ms
2025-12-09 15:20:48.527 +07:00 [INF] Executed endpoint '/Admin/Jobs/Run'
2025-12-09 15:20:48.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5171/admin/jobs/run - 200 null text/html; charset=utf-8 6.8295ms
2025-12-09 15:26:34.960 +07:00 [INF] Application is shutting down...
